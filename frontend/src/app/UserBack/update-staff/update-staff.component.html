<div class="container mt-4">

  <div class="d-flex justify-content-between">
    <button (click)="back()" class="button button-back">{{'BUTTONS.BACK' | translate}}</button>
    <h4>{{"layouts.staff-update.title-" + (staffForm.get('id')?.value ? "edit" : "add") | translate}}</h4>
    <img type="button" class="cursor-pointer" src="">
  </div>
  <hr>
  <form [formGroup]="staffForm" (ngSubmit)='Update()'>
    <input type="text" class="form-control" formControlName="id" hidden>

    <div class="form-group row">
      <label class="col-sm-4 col-form-label" for="firstName">{{"layouts.commons.formulaire.firstname" | translate}} *</label>
      <div class="col-sm-4">
        <input type="text" id='firstName' class="form-control" formControlName="firstName">
        <div *ngIf="staffForm.get('firstName')?.invalid && (staffForm.get('firstName')?.dirty || staffForm.get('firstName')?.touched)">
          <p class="validation-error" *ngIf="staffForm.get('firstName')?.errors!['required']">
            {{"exception.validations.required" | translate}}
          </p>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-4 col-form-label" for="lastName">{{"layouts.commons.formulaire.lastname" | translate}}  *</label>
      <div class="col-sm-4">
        <input type="text" id='lastName' class="form-control" formControlName="lastName">
        <div *ngIf="staffForm.get('lastName')?.invalid && (staffForm.get('lastName')?.dirty || staffForm.get('lastName')?.touched)">
          <p class="validation-error" *ngIf="staffForm.get('lastName')?.errors!['required']">
            {{"exception.validations.required" | translate}}
          </p>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-4 col-form-label" for="mail">{{"layouts.commons.formulaire.mail" | translate}} *</label>
      <div class="col-sm-4">
        <input  type="email" id='mail' class="form-control" formControlName="mail">
        <div *ngIf="staffForm.get('mail')?.invalid && (staffForm.get('mail')?.dirty || staffForm.get('mail')?.touched)">
          <p class="validation-error" *ngIf="staffForm.get('mail')?.errors!['required']">
            {{"exception.validations.required" | translate}}
          </p>
          <p class="validation-error" *ngIf="staffForm.get('mail')?.errors!['email']">
            {{"exception.validations.invalid" | translate}}
          </p>
        </div>
        <div *ngIf="errorUniqueStaffMail">
          <p class="validation-error">
            {{"exception.error." + errorUniqueStaffMail | translate}}
          </p>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-center m-4">
      <button class="button button-save w-25" type="submit" [disabled]="staffForm.invalid">{{"layouts.commons.buttons." + (staffForm.get('id')?.value ? "edit" : "save") | translate}}</button>
    </div>
    <div class="alert alert-danger" *ngIf="error">
      {{error}}
    </div>
  </form>
</div>

