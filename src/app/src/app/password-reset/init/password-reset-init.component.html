<div class="container login my-4">
  <div class="row">
    <div class="col-md-10 col-sm-12 offset-md-1 offset-sm-0">
      <div class="card" *ngIf="!success">
        <h1 class="text-center">Réinitialiser son mot de passe</h1>
        <div class="card-body">
          <form (ngSubmit)="requestReset()" [formGroup]="resetRequestForm!">

            <div class="inputs">
              <div class="form-group col-md-8">
                <div class="form-outline">
                  <label class="form-label" for="email">Username</label>
                  <input [ngClass]="{'is-invalid': resetRequestForm?.get('email')?.invalid && (resetRequestForm?.get('email')?.dirty || resetRequestForm?.get('email')?.touched) }"
                         type="email" class="form-control" id="email" name="email"
                         formControlName="email">
                  <div *ngIf="resetRequestForm?.get('email')?.invalid && (resetRequestForm?.get('email')?.dirty || resetRequestForm?.get('email')?.touched)">
                    <p class="validation-error"
                       *ngIf="resetRequestForm?.get('email')?.errors!['required']">
                      Your email is required.
                    </p>
                    <p class="validation-error"
                       *ngIf="resetRequestForm?.get('email')?.errors!['email']">
                      Your email is invalid.
                    </p>
                    <p class="validation-error"
                       *ngIf="resetRequestForm?.get('email')?.errors!['minlength']! && !resetRequestForm?.get('email')?.errors!['email']!">
                      Your email is required to be at least 5 characters.
                    </p>
                    <p class="validation-error"
                       *ngIf="resetRequestForm?.get('email')?.errors!['maxlength'] && !resetRequestForm?.get('email')?.errors!['email']">
                      Your email cannot be longer than 100 characters.
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <div class="button">
              <button [disabled]="resetRequestForm?.invalid" class="btn btn-primary col-md-2" type="submit">Réinitialiser</button>
            </div>
          </form>
        </div>
      </div>
      <div class="alert alert-info" *ngIf="!success">
        <p>Enter the email address you used to register.</p>
      </div>
      <div class="alert alert-success" *ngIf="success === 'OK'">
        <p>Check your emails for details on how to reset your password.</p>
      </div>
    </div>
  </div>
</div>
