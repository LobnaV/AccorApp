<div class="form-group col-md-8 " id="searchBar">
  <div class="btn_searchbar">
    <input class="form-control" type="text" [(ngModel)]="searchTerm" (keyup)="Search($event)" placeholder="rechercher">
    <!-- filtrer par megaCode -->
    <img type="button" class="cursor-pointer" src="">
    <div class="container">
      <button (click)="NewUser()" class="btn add_Btn">Add User</button>
    </div>
  </div>
</div>




<!-- <div  class="popup2" [ngStyle]="{'display':displayStyle2}">
  <p class="popup">Can you confirm there are not more pending tasks in the task manager for this user?Â  If no, please reassign the pending tasks before deleting the user.</p>
  <button (click)="back()" class="btn btn-info" style="margin-left: 10px;">Cancel</button>
</div> -->


<table class="table">
  <thead [ngStyle]="{'display':tableStyle}">
    <tr>
      <th></th>
      <th scope="col">Id</th>
      <th scope="col">first name</th>
      <th scope="col">last name</th>
      <th scope="col">email </th>
    </tr>
  </thead>
  <tbody class="data" [formGroup]="userForm" [ngStyle]="{'display':tableStyle}">
    <!-- let dataa of tabUser.costCenters;  -->
    <tr *ngFor="let data of tabUser | filter: searchKey:'name'">
      <th #myNameElem><input type="radio" id="radioCheck" name="dispatcher" value="data.id"
          (click)="testDisp(data);csv(data) " attr.aria-checked="{{dispatcher}}" [routerLink]="['/x', data.id]"></th>
      <th>{{data.id}}</th>
      <th>{{data.firstName}}</th>
      <th>{{data.lastName}}</th>
      <td>{{data.email}}</td>
      <td>{{data.primaryBranch}}</td>
      <td> <button [routerLink]="['/edit', data.id]" class="btn btn-edit" style="margin-left: 10px;">Edit</button>
      </td>
      <td><button (click)="openPopup(data)" class="btn btn-delete" style="margin-left: 10px;">Delete</button></td>
      <!-- ngfor recup cc 
          ajouter liaison megacode hotel pour cc et user
          condition => if user.megacodehotel == cc.megacodehotel ==> afficher les cc correspondant -->
    </tr>
  </tbody>
  <div *ngFor="let data of tabUser" class="popup1" [ngStyle]="{'display':displayStyle}">
    <p class="popup">If you need to temporarily delete a user, we advise you use the delegation rule option within
      Tradeshift (holiday, maternity leave, sick leave) to temporarily delegate tasks to another colleague.</p>
    <button (click)="remove(data.id); csvdelete(data)" class="btn btn-delete" style="margin-left: 10px;">Yes I confirm,
      and I want to delete the user</button>
    <!-- <button id="x" class="btn btn-delete" style="margin-left: 10px;">Continue with deletion</button> -->
    <!-- (click)="openPopup2()" -->
    <button (click)="back()" class="btn btn-info" style="margin-left: 10px;">Cancel</button>
  </div>
</table>